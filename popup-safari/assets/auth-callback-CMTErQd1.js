import{h as i}from"./auth-BzzJO1E-.js";import"./api-lEPXQ6QH.js";async function c(){const a=document.getElementById("spinner"),t=document.getElementById("title"),n=document.getElementById("message"),e=new URLSearchParams(window.location.search);if((!e.get("code")||!e.get("state"))&&window.location.hash){const o=new URLSearchParams(window.location.hash.replace(/^#/,""));if(!e.get("state")){const s=o.get("state");s&&e.set("state",s)}if(!e.get("code")){const s=o.get("code");s&&e.set("code",s)}}try{const o=await i(e);a&&(a.style.display="none"),o?(t&&(t.textContent="Success!",t.classList.add("success")),n&&(n.textContent="You're now signed in. You can close this tab if it does not redirect automatically."),setTimeout(()=>window.close(),1500)):(t&&(t.textContent="Authentication Failed",t.classList.add("error")),n&&(n.textContent="Something went wrong. Please try again."))}catch{a&&(a.style.display="none"),t&&(t.textContent="Error",t.classList.add("error")),n&&(n.textContent="An unexpected error occurred. Please try again.")}}c();
